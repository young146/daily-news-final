# ğŸ‡»ğŸ‡³ ì”¬ì§œì˜¤ë² íŠ¸ë‚¨ ë°ì¼ë¦¬ ë‰´ìŠ¤ ì‹œìŠ¤í…œ ì¸ê³„ ë¬¸ì„œ (2025-12-27)

ì´ ë¬¸ì„œëŠ” ì”¬ì§œì˜¤ë² íŠ¸ë‚¨ ë°ì¼ë¦¬ ë‰´ìŠ¤ ìë™í™” ì‹œìŠ¤í…œì˜ ì„±ê²©, ì›Œí¬í”Œë¡œìš°, íŒŒì¼ êµ¬ì¡° ë° í˜„ì¬ ì§„í–‰ ìƒí™©ì„ ë‹¤ìŒ ì‘ì—…ìê°€ ì¦‰ì‹œ íŒŒì•…í•  ìˆ˜ ìˆë„ë¡ ì •ë¦¬í•œ ê²ƒì…ë‹ˆë‹¤.

## 1. í”„ë¡œì íŠ¸ ì„±ê²© (Project Nature)
ì´ ì‹œìŠ¤í…œì€ ë² íŠ¸ë‚¨ êµë¯¼ ì¡ì§€ 'ì”¬ì§œì˜¤ë² íŠ¸ë‚¨'ì˜ ë‰´ìŠ¤ ì„œë¹„ìŠ¤ë¥¼ ìë™í™”í•˜ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.
- **Backend/Admin**: Next.js (App Router)ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‰´ìŠ¤ ìˆ˜ì§‘, GPT ë²ˆì—­, ê´€ë¦¬ì ì½˜ì†”, ì¹´ë“œë‰´ìŠ¤ ìƒì„±ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.
- **Display**: WordPress í…Œë§ˆ ë‚´ì— ì„¤ì¹˜ëœ `Jenny Daily News Display` í”ŒëŸ¬ê·¸ì¸ì´ ë°ì´í„°ë¥¼ ë°›ì•„ ë…ìì—ê²Œ ë³´ì—¬ì¤ë‹ˆë‹¤.
- **ë™ê¸°í™”**: ê´€ë¦¬ì ì½˜ì†”ì—ì„œ ë³€ê²½í•œ ë‚´ìš©(ì¹´í…Œê³ ë¦¬, íƒ‘ë‰´ìŠ¤ ì§€ì •)ì€ WordPress REST APIë¥¼ í†µí•´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë™ê¸°í™”ë©ë‹ˆë‹¤.

## 2. í•µì‹¬ ì•„í‚¤í…ì²˜ ë° ë°ì´í„° í”Œë¡œìš° (Architecture & Data Flow)

### ğŸ•’ ì‹œê°„ëŒ€ ì›ì¹™
- ëª¨ë“  ì‹œìŠ¤í…œì€ **"Asia/Ho_Chi_Minh" (ë² íŠ¸ë‚¨ ì‹œê°„, UTC+7)**ì„ ê¸°ì¤€ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.
- ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ì˜ ë‚ ì§œ ë¶ˆì¼ì¹˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ `toLocaleDateString` ì‚¬ìš© ì‹œ íƒ€ì„ì¡´ì„ ëª…ì‹œí•©ë‹ˆë‹¤.

### ğŸ“… "ì˜¤ëŠ˜"ì˜ ì •ì˜ (Board Date Logic)
- ì´ ì‹œìŠ¤í…œì—ì„œ "ì˜¤ëŠ˜"ì€ ë‹¬ë ¥ìƒì˜ ì˜¤ëŠ˜ì´ ì•„ë‹ˆë¼ **"ê°€ì¥ ìµœê·¼ì— ë‰´ìŠ¤ê°€ ë°œí–‰ëœ ë‚ ì§œ"**ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
- ë‰´ìŠ¤ ê²Œì‹œíŒ(Jenny)ì€ ê°€ì¥ ìµœê·¼ ë°œí–‰ì¼ì˜ ê¸°ì‚¬ë“¤ì„ ìš°ì„  ë³´ì—¬ì£¼ë©°, ê¸°ì‚¬ê°€ ë¶€ì¡±í•  ê²½ìš°(ì¹´í…Œê³ ë¦¬ë‹¹ 10ê°œ ë¯¸ë§Œ) ê³¼ê±° ê¸°ì‚¬ë¡œ ë¹ˆìë¦¬ë¥¼ ì±„ì›ë‹ˆë‹¤.

### ğŸ”¥ íƒ‘ë‰´ìŠ¤ ìŠ¤íŠ¸ë¦¼ (Top News Stream)
- íƒ‘ë‰´ìŠ¤ëŠ” ë‚ ì§œì— êµ¬ì†ë˜ì§€ ì•ŠëŠ” **"ìµœì‹  ìƒìœ„ 2ê°œ ë‰´ìŠ¤"**ì˜ ìŠ¤íŠ¸ë¦¼ì…ë‹ˆë‹¤.
- ìƒˆë¡œìš´ ê¸°ì‚¬ë¥¼ íƒ‘ë‰´ìŠ¤ë¡œ ì§€ì •í•˜ë©´, ê¸°ì¡´ì˜ íƒ‘ë‰´ìŠ¤ ì¤‘ ê°€ì¥ ì˜¤ë˜ëœ ê²ƒì´ ìë™ìœ¼ë¡œ í•´ì œ(Auto Push-back)ë©ë‹ˆë‹¤.

## 3. ì£¼ìš” íŒŒì¼ ë° ì—­í•  (Key Modules)

| ê²½ë¡œ | ì—­í•  |
|------|------|
| `app/admin/actions.js` | íƒ‘ë‰´ìŠ¤ í† ê¸€, ì¹´í…Œê³ ë¦¬ ë³€ê²½, WordPress ë©”íƒ€ ë°ì´í„° ë™ê¸°í™” ë“± ì„œë²„ ì•¡ì…˜ |
| `app/api/published-news/route.js` | ê´€ë¦¬ì ì½˜ì†”ì˜ 'ë°œí–‰ ë‰´ìŠ¤ ê´€ë¦¬' ëª©ë¡ ì œê³µ (ìµœê·¼ 2íšŒ ë°œí–‰ë¶„ ìœ ì§€) |
| `wordpress-plugin/jenny-daily-news.php` | WordPress ê²Œì‹œíŒ ì¶œë ¥ ë¡œì§ ë° **ì „ìš© ë°ì´í„° ìˆ˜ì‹ í•¨(Express Lane)** í¬í•¨ |
| `lib/card-generator.js` | Canvas ê¸°ë°˜ ì¹´ë“œë‰´ìŠ¤ ì´ë¯¸ì§€ ìƒì„± (ë‚˜ëˆ”ê³ ë”•, ë‚˜ëˆ”ëª…ì¡° í°íŠ¸ ì‚¬ìš©) |
| `lib/publisher.js` | WordPress í¬ìŠ¤íŠ¸ ë°œí–‰ ë° ì´ë¯¸ì§€ ì—…ë¡œë“œ í•µì‹¬ ë¡œì§ |

## 4. ê¸ˆì¼ ì‘ì—… ë‚´ìš© (2025-12-27 ì‹œí–‰ ì‚¬í•­)

### âœ… íƒ‘ë‰´ìŠ¤ ë™ê¸°í™” ë¬¸ì œ ê·¼ë³¸ì  í•´ê²°
- **ë¬¸ì œ**: íƒ‘ë‰´ìŠ¤ ì§€ì • ì‹œ ì›Œë“œí”„ë ˆìŠ¤(Jenny) í™”ë©´ì— ì¦‰ê° ë°˜ì˜ë˜ì§€ ì•ŠëŠ” í˜„ìƒ.
- **í•´ê²° (Senior Approach)**:
  - **ì¼ë°˜ í†µë¡œ ë³µêµ¬**: ì›Œë“œí”„ë ˆìŠ¤ í‘œì¤€ REST APIê°€ ì»¤ìŠ¤í…€ í•„ë“œ ìˆ˜ì •ì„ ê±°ë¶€í–ˆë˜ ì›ì¸ì¸ `auth_callback` ëˆ„ë½ì„ ë³´ì™„. ì´ì œ ì¸ìœ„ì ì¸ 'íŠ¹ë³„ í†µë¡œ' ì—†ì´ í‘œì¤€ APIë§Œìœ¼ë¡œ ëª¨ë“  ë°ì´í„°ê°€ ë¬¼ íë¥´ë“¯ ì „ë‹¬ë©ë‹ˆë‹¤.
  - **ë¶ˆí•„ìš”í•œ ì¥ì¹˜ ì œê±°**: `!important` ë‚¨ë°œ ë° ì»¤ìŠ¤í…€ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ëª¨ë‘ ì² ê±°í•˜ê³ , ì‹œìŠ¤í…œì˜ í‘œì¤€ íë¦„ì„ ë”°ë¥´ë„ë¡ ì¬ì„¤ê³„.

### âœ… ê´€ë¦¬ì ì½˜ì†” ëª©ë¡ ì •ìƒí™”
- 'ì˜¤ëŠ˜ ë°œí–‰ëœ ë‰´ìŠ¤ ê´€ë¦¬' ì„¹ì…˜ì´ ë¹„ì–´ ë³´ì´ë˜ ë¬¸ì œ í•´ê²°.
- ì‹œìŠ¤í…œ ì •ë³´ì˜ ë‚ ì§œ ê³„ì‚° ë°©ì‹ê³¼ ë™ì¼í•˜ê²Œ "ìµœê·¼ 2íšŒì˜ ì‹¤ì œ ë°œí–‰ì¼" ê¸°ì‚¬ë“¤ì„ ëª¨ë‘ ê°€ì ¸ì˜¤ë„ë¡ ì¿¼ë¦¬ ìˆ˜ì •.

### âœ… ì¹´ë“œë‰´ìŠ¤ ë””ìì¸ ê°œí¸
- SNS ê°€ì‹œì„±ì„ ë†’ì´ê¸° ìœ„í•´ ìƒë‹¨ í—¤ë”ë°”(ë¶‰ì€ìƒ‰), í•˜ë‹¨ ë¸”ë£¨ ë¼ì¸ ì¶”ê°€.
- ë‚˜ëˆ”ê³ ë”•(í—¤ë”), ë‚˜ëˆ”ëª…ì¡°(ì œëª©) í°íŠ¸ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ë“±ë¡í•˜ì—¬ ë Œë”ë§ í’ˆì§ˆ í–¥ìƒ.

## 5. í–¥í›„ ê³¼ì œ ë° ì¸ê³„ ì‚¬í•­ (Pending / To-Do)

### âš ï¸ ì¸ê³„ ì‹œ ì£¼ì˜ì‚¬í•­
1. **í”ŒëŸ¬ê·¸ì¸ ì—…ë°ì´íŠ¸ í•„ìˆ˜**: `wordpress-plugin/jenny-daily-news.php`ì˜ ìµœì‹  ë²„ì „(v1.8.2 ì´ìƒ)ì´ ë°˜ë“œì‹œ WordPressì— ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ íƒ‘ë‰´ìŠ¤ ë™ê¸°í™”ê°€ ì‘ë™í•©ë‹ˆë‹¤.
2. **í°íŠ¸ íŒŒì¼ ê´€ë¦¬**: Vercel ë°°í¬ ì‹œ `public/fonts/` ê²½ë¡œì— `.ttf` íŒŒì¼ë“¤ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.
3. **ì¹´í…Œê³ ë¦¬ ë§¤í•‘**: `jenny-daily-news.php` ë‚´ë¶€ì˜ `$category_order` ë°°ì—´ì„ ìˆ˜ì •í•˜ì—¬ ê²Œì‹œíŒ ë‚´ ì„¹ì…˜ ìˆœì„œë¥¼ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ğŸ“‹ ë‚¨ì€ ê³¼ì œ
- [ ] íƒ‘ë‰´ìŠ¤ ì§€ì • ì‹œ Jenny ê²Œì‹œíŒì— ì¦‰ì‹œ ë°˜ì˜ë˜ëŠ”ì§€ ìµœì¢… ì‚¬ìš©ì í™•ì¸ ëŒ€ê¸°.
- [ ] ì¹´ë“œë‰´ìŠ¤ ìƒì„± ì‹œ íŠ¹ì • ê¸´ ì œëª©ì´ ì˜ì—­ì„ ë²—ì–´ë‚˜ëŠ”ì§€ ì—£ì§€ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸ í•„ìš”.

## 6. ê¸ˆì¼ ì‘ì—… ë‚´ìš© (2025-12-28 ì‹œí–‰ ì‚¬í•­)

### âœ… WordPress í”ŒëŸ¬ê·¸ì¸ ë¦¬íŒ©í† ë§ (ì½”ë“œ ë‹¤ì´ì–´íŠ¸)
- **ëª©ì **: 1607ì¤„ì˜ ë‹¨ì¼ íŒŒì¼ì„ êµ¬ì¡°í™”í•˜ê³  ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
- **ì‘ì—… ë‚´ìš©**:
  - ì„¤ì •ê°’ ìƒìˆ˜í™”: ì¹´í…Œê³ ë¦¬ ìˆœì„œ, ì„¹ì…˜ ì •ì˜, ì¹´í…Œê³ ë¦¬ ë§¤í•‘ì„ í•¨ìˆ˜ë¡œ ë¶„ë¦¬
  - í•¨ìˆ˜ ë¶„ë¦¬: `render_jenny_card`ë¥¼ ë…ë¦½ í•¨ìˆ˜ë¡œ ë¶„ë¦¬, ì¤‘ë³µ ì½”ë“œ ì œê±°
  - Excerpt ì •ì œ ë¡œì§ ë‹¨ìˆœí™”: 6ê°œ ì´ìƒì˜ ì •ê·œì‹ íŒ¨í„´ì„ í•˜ë‚˜ì˜ í•¨ìˆ˜ë¡œ í†µí•©
  - ëª¨ë°”ì¼ ìŠ¤íƒ€ì¼ ì¤‘ë³µ ì œê±°: `jenny_get_styles()`ì™€ `jenny_add_global_mobile_styles()` ì¤‘ë³µ ì œê±°
  - í¬ìŠ¤íŠ¸ ê°€ì ¸ì˜¤ê¸° ë¡œì§ ë¶„ë¦¬: ë‚ ì§œë³„ í¬ìŠ¤íŠ¸ ì¡°íšŒë¥¼ ë³„ë„ í•¨ìˆ˜ë¡œ ë¶„ë¦¬
- **ê²°ê³¼**: ì½”ë“œ ê°€ë…ì„± ë° ìœ ì§€ë³´ìˆ˜ì„± ëŒ€í­ í–¥ìƒ, ê¸°ëŠ¥ì€ 100% ìœ ì§€

### âœ… ì¹´í…Œê³ ë¦¬ ê¸°ëŠ¥ í™•ì¥
- **ì¶”ê°€**: "ê¸°íƒ€(Other)" ì¹´í…Œê³ ë¦¬ ì¶”ê°€
- **ì ìš© ë²”ìœ„**:
  - WordPress í”ŒëŸ¬ê·¸ì¸ (`jenny-daily-news.php`)
  - ê´€ë¦¬ì ì„¤ì • í˜ì´ì§€ (`app/admin/settings/page.js`)
  - ì¹´í…Œê³ ë¦¬ ì„ íƒ ì»´í¬ë„ŒíŠ¸ (`app/admin/category-selector.js`)
  - ìˆ˜ë™ ë‰´ìŠ¤ í¼ (`app/admin/manual-news-form.js`)
  - ë‰´ìŠ¤ í¸ì§‘ í˜ì´ì§€ (`app/admin/news/[id]/page.js`)
- **ìš©ë„**: ë¶„ë¥˜ê°€ ì• ë§¤í•œ ë‰´ìŠ¤ë¥¼ "ê¸°íƒ€"ë¡œ ì²˜ë¦¬

### âœ… ë²ˆì—­ ë¡œê·¸ ê°œì„ 
- **ì¶”ê°€**: ë²ˆì—­ ì‹œì‘/ì™„ë£Œ ë¡œê·¸ ì¶”ê°€
- **íŒŒì¼**: `lib/translator.js`, `lib/crawler-service.js`, `scripts/crawler.js`
- **íš¨ê³¼**: ë²ˆì—­ ì§„í–‰ ìƒí™©ì„ í„°ë¯¸ë„ì—ì„œ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸ ê°€ëŠ¥

### âœ… Open Graph ì´ë¯¸ì§€ ë¹Œë“œ ì—ëŸ¬ ìˆ˜ì •
- **ë¬¸ì œ**: 
  1. HTML êµ¬ì¡° ì—ëŸ¬: `display: flex` ëˆ„ë½ìœ¼ë¡œ ë¹Œë“œ ì‹¤íŒ¨
  2. ì´ë¯¸ì§€ ë¡œë“œ íƒ€ì„ì•„ì›ƒ: ì™¸ë¶€ ì´ë¯¸ì§€ ë¡œë“œ ì‹œ íƒ€ì„ì•„ì›ƒìœ¼ë¡œ ë¹Œë“œ ì‹¤íŒ¨
- **í•´ê²°**:
  1. **ì´ì „ êµ¬ì¡°ë¡œ ë³µì›**: position ê¸°ë°˜ ë ˆì´ì•„ì›ƒìœ¼ë¡œ ë˜ëŒë¦¼ (display ë¬¸ì œ í•´ê²°)
  2. **íƒ€ì„ì•„ì›ƒ ì¶”ê°€**: ì™¸ë¶€ ì´ë¯¸ì§€ ë¡œë“œì— 5ì´ˆ íƒ€ì„ì•„ì›ƒ ì„¤ì •
  3. **ì´ë¯¸ì§€ ìš°ì„ ìˆœìœ„ ê°œì„ **: WordPress ì´ë¯¸ì§€ â†’ ë¡œì»¬ ì´ë¯¸ì§€ â†’ ì›ë³¸ ì´ë¯¸ì§€ â†’ ê¸°ë³¸ ë¡œê³ 
- **íŒŒì¼**: `app/opengraph-image.js`

### âš ï¸ ì¤‘ìš”: ì´ë¯¸ì§€ ë¡œë“œ ì „ëµ (Image Loading Strategy)

**ì›ë³¸ ì´ë¯¸ì§€ ì§ì ‘ ë¡œë“œëŠ” í•­ìƒ ë¶ˆì•ˆì •í•©ë‹ˆë‹¤:**
- ì™¸ë¶€ ì„œë²„ ì‘ë‹µ ì§€ì—°/íƒ€ì„ì•„ì›ƒ ìœ„í—˜
- ë¹Œë“œ í™˜ê²½ì—ì„œ ë„¤íŠ¸ì›Œí¬ ì œí•œ ê°€ëŠ¥
- CORS ë˜ëŠ” Hotlink Protection ë¬¸ì œ

**ê¶Œì¥ ë°©ì‹: WordPressì— ì´ë¯¸ ì˜¬ë¦° ì´ë¯¸ì§€ ì‚¬ìš©**
- `wordpressImageUrl` ë˜ëŠ” `localImagePath` ìš°ì„  ì‚¬ìš©
- ì´ë¯¸ ì—…ë¡œë“œëœ ì´ë¯¸ì§€ëŠ” ë¡œë“œê°€ ë¹ ë¥´ê³  ì•ˆì •ì 
- ë¹Œë“œ ì‹¤íŒ¨ ìœ„í—˜ ìµœì†Œí™”

**í˜„ì¬ êµ¬í˜„:**
```javascript
// ìš°ì„ ìˆœìœ„: WordPress ì´ë¯¸ì§€ > ë¡œì»¬ ì´ë¯¸ì§€ > ì›ë³¸ ì´ë¯¸ì§€ > ê¸°ë³¸ ë¡œê³ 
if (topNews?.wordpressImageUrl) {
    imageBuffer = await loadImage(topNews.wordpressImageUrl);
}
if (!imageBuffer && topNews?.localImagePath) {
    imageBuffer = await loadImage(topNews.localImagePath);
}
if (!imageBuffer && topNews?.imageUrl) {
    imageBuffer = await loadImage(topNews.imageUrl); // íƒ€ì„ì•„ì›ƒ ìœ„í—˜
}
```

**ë‹¤ìŒ ì‘ì—… ì‹œ ì°¸ê³ :**
- Open Graph ì´ë¯¸ì§€ ìƒì„± ì‹œ í•­ìƒ WordPress/ë¡œì»¬ ì´ë¯¸ì§€ ìš°ì„  ì‚¬ìš©
- ì›ë³¸ ì´ë¯¸ì§€(`imageUrl`)ëŠ” ìµœí›„ì˜ ìˆ˜ë‹¨ìœ¼ë¡œë§Œ ì‚¬ìš©
- íƒ€ì„ì•„ì›ƒ ì„¤ì •ì€ í•„ìˆ˜ (5ì´ˆ ê¶Œì¥)

---
**ì´ ì‹œìŠ¤í…œì˜ ëª©í‘œëŠ” 'ì˜¤ëŠ˜'ì´ë¼ëŠ” ì‹œê°„ì— ê°‡íˆì§€ ì•Šê³ , ì–¸ì œë‚˜ ê°€ì¥ ìµœì‹ ì˜ ë‰´ìŠ¤ê°€ ì‚´ì•„ ì›€ì§ì´ëŠ” ê²Œì‹œíŒì„ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤.**

